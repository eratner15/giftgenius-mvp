"use strict";(self.webpackChunkgiftgenius_frontend=self.webpackChunkgiftgenius_frontend||[]).push([[384],{384:(e,n,s)=>{s.r(n),s.d(n,{GiftReminderDashboard:()=>o,GiftReminderManager:()=>r,ReminderNotifications:()=>c,default:()=>l});var i=s(555),a=s(43),t=s(579);class r{constructor(){this.reminders=this.loadReminders(),this.defaultOccasions=[{name:"Anniversary",icon:"\ud83d\udc8d",category:"relationship",leadTime:14,suggestions:["jewelry","experiences","personalized"]},{name:"Birthday",icon:"\ud83c\udf82",category:"celebration",leadTime:7,suggestions:["fashion","beauty","tech"]},{name:"Valentine's Day",icon:"\ud83d\udc9d",category:"holiday",leadTime:10,suggestions:["jewelry","flowers","romantic"]},{name:"Christmas",icon:"\ud83c\udf84",category:"holiday",leadTime:21,suggestions:["fashion","home","experiences"]},{name:"Mother's Day",icon:"\ud83c\udf38",category:"holiday",leadTime:14,suggestions:["beauty","jewelry","spa"]}]}loadReminders(){const e=localStorage.getItem("giftgenius_reminders");return e?JSON.parse(e):[]}saveReminders(){localStorage.setItem("giftgenius_reminders",JSON.stringify(this.reminders))}addReminder(e){const n=(0,i.A)((0,i.A)({id:"reminder_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))},e),{},{createdAt:Date.now(),status:"active",notificationsSent:0});return this.reminders.push(n),this.saveReminders(),n}updateReminder(e,n){const s=this.reminders.findIndex(n=>n.id===e);return s>=0?(this.reminders[s]=(0,i.A)((0,i.A)({},this.reminders[s]),n),this.saveReminders(),this.reminders[s]):null}deleteReminder(e){this.reminders=this.reminders.filter(n=>n.id!==e),this.saveReminders()}getUpcomingReminders(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const n=Date.now(),s=n+24*e*60*60*1e3;return this.reminders.filter(e=>"active"===e.status).filter(e=>{const i=new Date(e.date).getTime()-24*e.leadTime*60*60*1e3;return i>=n&&i<=s}).sort((e,n)=>new Date(e.date)-new Date(n.date))}getDueReminders(){const e=Date.now();return this.reminders.filter(e=>"active"===e.status).filter(n=>{const s=new Date(n.date).getTime(),i=s-24*n.leadTime*60*60*1e3;return e>=i&&e<=s}).sort((e,n)=>new Date(e.date)-new Date(n.date))}markAsNotified(e){const n=this.reminders.find(n=>n.id===e);n&&(n.notificationsSent++,n.lastNotified=Date.now(),this.saveReminders())}generateYearlyReminders(e){const n=(new Date).getFullYear(),s=[];e.birthday&&s.push({occasion:"Birthday",date:new Date(n,new Date(e.birthday).getMonth(),new Date(e.birthday).getDate()),person:e.name,leadTime:7}),e.anniversaryDate&&s.push({occasion:"Anniversary",date:new Date(n,new Date(e.anniversaryDate).getMonth(),new Date(e.anniversaryDate).getDate()),person:e.name,leadTime:14});return[{name:"Valentine's Day",month:1,day:14,leadTime:10},{name:"Mother's Day",month:4,day:12,leadTime:14},{name:"Christmas",month:11,day:25,leadTime:21}].forEach(i=>{s.push({occasion:i.name,date:new Date(n,i.month,i.day),person:e.name,leadTime:i.leadTime})}),s}}const o=e=>{let{reminderManager:n,onGiftSearch:s}=e;const[r,o]=(0,a.useState)(n.reminders),[c,l]=(0,a.useState)(!1),[m,h]=(0,a.useState)([]),[u,g]=(0,a.useState)([]);(0,a.useEffect)(()=>{const e=()=>{o([...n.reminders]),h(n.getDueReminders()),g(n.getUpcomingReminders())};e();const s=setInterval(e,6e4);return()=>clearInterval(s)},[n]);const p=(0,a.useCallback)(e=>{const i=n.defaultOccasions.find(n=>n.name===e.occasion),a={occasion:e.occasion.toLowerCase(),suggestions:(null===i||void 0===i?void 0:i.suggestions)||[],deadline:e.date,person:e.person};s(a),n.markAsNotified(e.id)},[n,s]);return(0,t.jsxs)("div",{className:"reminder-dashboard",children:[(0,t.jsxs)("div",{className:"reminder-header",children:[(0,t.jsx)("h2",{children:"\ud83d\uddd3\ufe0f Gift Reminders"}),(0,t.jsx)("button",{className:"btn-primary",onClick:()=>l(!0),children:"Add Reminder"})]}),m.length>0&&(0,t.jsxs)("div",{className:"reminder-section urgent",children:[(0,t.jsx)("h3",{children:"\ud83d\udea8 Action Needed"}),(0,t.jsx)("div",{className:"reminder-cards",children:m.map(e=>{var s;return(0,t.jsxs)("div",{className:"reminder-card due",children:[(0,t.jsxs)("div",{className:"reminder-urgent-indicator",children:[(0,t.jsx)("span",{className:"urgent-pulse"}),"ACTION NEEDED"]}),(0,t.jsxs)("div",{className:"reminder-content",children:[(0,t.jsxs)("div",{className:"reminder-occasion",children:[(0,t.jsx)("span",{className:"occasion-icon",children:(null===(s=n.defaultOccasions.find(n=>n.name===e.occasion))||void 0===s?void 0:s.icon)||"\ud83c\udf81"}),(0,t.jsxs)("div",{className:"occasion-info",children:[(0,t.jsx)("h4",{children:e.occasion}),(0,t.jsx)("p",{children:e.person})]})]}),(0,t.jsxs)("div",{className:"reminder-timing",children:[(0,t.jsxs)("div",{className:"days-until",children:[Math.ceil((new Date(e.date)-new Date)/864e5)," days until"]}),(0,t.jsx)("div",{className:"reminder-date",children:new Date(e.date).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"reminder-actions",children:[(0,t.jsx)("button",{className:"btn-primary start-shopping",onClick:()=>p(e),children:"Start Shopping"}),(0,t.jsx)("button",{className:"btn-secondary snooze",onClick:()=>{n.updateReminder(e.id,{leadTime:e.leadTime+3})},children:"Snooze 3 days"})]})]},e.id)})})]}),u.length>0&&(0,t.jsxs)("div",{className:"reminder-section upcoming",children:[(0,t.jsx)("h3",{children:"\ud83d\udcc5 Coming Up"}),(0,t.jsx)("div",{className:"reminder-list",children:u.map(e=>{var s;return(0,t.jsxs)("div",{className:"reminder-item",children:[(0,t.jsxs)("div",{className:"reminder-info",children:[(0,t.jsx)("span",{className:"reminder-icon",children:(null===(s=n.defaultOccasions.find(n=>n.name===e.occasion))||void 0===s?void 0:s.icon)||"\ud83c\udf81"}),(0,t.jsxs)("div",{className:"reminder-details",children:[(0,t.jsxs)("h4",{children:[e.occasion," - ",e.person]}),(0,t.jsx)("p",{children:new Date(e.date).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"reminder-countdown",children:[Math.ceil((new Date(e.date)-new Date)/864e5)," days"]})]},e.id)})})]}),c&&(0,t.jsx)(d,{reminderManager:n,onClose:()=>l(!1),onSave:e=>{n.addReminder(e),l(!1)}}),(0,t.jsxs)("div",{className:"reminder-section quick-setup",children:[(0,t.jsx)("h3",{children:"\u26a1 Quick Setup"}),(0,t.jsx)("p",{children:"Let us help you never miss an important date again"}),(0,t.jsxs)("div",{className:"quick-setup-options",children:[(0,t.jsx)("button",{className:"quick-setup-btn",onClick:()=>l(!0),children:"\ud83d\udcf1 Add Partner's Birthday"}),(0,t.jsx)("button",{className:"quick-setup-btn",onClick:()=>l(!0),children:"\ud83d\udc8d Set Anniversary Reminder"}),(0,t.jsx)("button",{className:"quick-setup-btn",onClick:()=>{[{occasion:"Valentine's Day",date:"2024-02-14",leadTime:10},{occasion:"Mother's Day",date:"2024-05-12",leadTime:14},{occasion:"Christmas",date:"2024-12-25",leadTime:21}].forEach(e=>{n.addReminder((0,i.A)((0,i.A)({},e),{},{person:"Partner",notes:"Auto-generated holiday reminder"}))})},children:"\ud83c\udf84 Add Holiday Reminders"})]})]})]})},d=e=>{let{reminderManager:n,onClose:s,onSave:r}=e;const[o,d]=(0,a.useState)({occasion:"",person:"",date:"",leadTime:7,notes:"",recurring:!1,customOccasion:""});return(0,t.jsx)("div",{className:"reminder-form-overlay",children:(0,t.jsxs)("div",{className:"reminder-form",children:[(0,t.jsxs)("div",{className:"form-header",children:[(0,t.jsx)("h3",{children:"Add Gift Reminder"}),(0,t.jsx)("button",{className:"close-btn",onClick:s,children:"\u2715"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n=(0,i.A)((0,i.A)({},o),{},{occasion:"custom"===o.occasion?o.customOccasion:o.occasion});r(n)},children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Occasion"}),(0,t.jsxs)("select",{value:o.occasion,onChange:e=>d(n=>(0,i.A)((0,i.A)({},n),{},{occasion:e.target.value})),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select occasion"}),n.defaultOccasions.map(e=>(0,t.jsxs)("option",{value:e.name,children:[e.icon," ",e.name]},e.name)),(0,t.jsx)("option",{value:"custom",children:"\u270f\ufe0f Custom Occasion"})]})]}),"custom"===o.occasion&&(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Custom Occasion Name"}),(0,t.jsx)("input",{type:"text",value:o.customOccasion,onChange:e=>d(n=>(0,i.A)((0,i.A)({},n),{},{customOccasion:e.target.value})),placeholder:"e.g., Graduation, Promotion, etc.",required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Person"}),(0,t.jsx)("input",{type:"text",value:o.person,onChange:e=>d(n=>(0,i.A)((0,i.A)({},n),{},{person:e.target.value})),placeholder:"e.g., Sarah, Mom, Best Friend",required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Date"}),(0,t.jsx)("input",{type:"date",value:o.date,onChange:e=>d(n=>(0,i.A)((0,i.A)({},n),{},{date:e.target.value})),min:(new Date).toISOString().split("T")[0],required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Remind me"}),(0,t.jsxs)("select",{value:o.leadTime,onChange:e=>d(n=>(0,i.A)((0,i.A)({},n),{},{leadTime:parseInt(e.target.value)})),children:[(0,t.jsx)("option",{value:3,children:"3 days before"}),(0,t.jsx)("option",{value:7,children:"1 week before"}),(0,t.jsx)("option",{value:14,children:"2 weeks before"}),(0,t.jsx)("option",{value:21,children:"3 weeks before"}),(0,t.jsx)("option",{value:30,children:"1 month before"})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Notes (optional)"}),(0,t.jsx)("textarea",{value:o.notes,onChange:e=>d(n=>(0,i.A)((0,i.A)({},n),{},{notes:e.target.value})),placeholder:"Gift ideas, preferences, budget notes...",rows:3})]}),(0,t.jsx)("div",{className:"form-group checkbox-group",children:(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"checkbox",checked:o.recurring,onChange:e=>d(n=>(0,i.A)((0,i.A)({},n),{},{recurring:e.target.checked}))}),"Make this a yearly recurring reminder"]})}),(0,t.jsxs)("div",{className:"form-footer",children:[(0,t.jsx)("button",{type:"button",className:"btn-secondary",onClick:s,children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"btn-primary",children:"Save Reminder"})]})]})]})})},c=e=>{let{reminderManager:n,onDismiss:s,onAction:i}=e;const[r,o]=(0,a.useState)([]);return(0,a.useEffect)(()=>{const e=()=>{const e=n.getDueReminders().filter(e=>!e.lastNotified||Date.now()-e.lastNotified>864e5).slice(0,3);o(e)};e();const s=setInterval(e,6e4);return()=>clearInterval(s)},[n]),0===r.length?null:(0,t.jsx)("div",{className:"reminder-notifications",children:r.map(e=>{var a;return(0,t.jsxs)("div",{className:"notification-card reminder",children:[(0,t.jsx)("div",{className:"notification-icon",children:(null===(a=n.defaultOccasions.find(n=>n.name===e.occasion))||void 0===a?void 0:a.icon)||"\ud83c\udf81"}),(0,t.jsxs)("div",{className:"notification-content",children:[(0,t.jsx)("h4",{children:"Time to find a gift!"}),(0,t.jsxs)("p",{children:[e.occasion," for ",e.person," is coming up on ",new Date(e.date).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"notification-actions",children:[(0,t.jsx)("button",{className:"btn-primary small",onClick:()=>{i(e),s(e.id),n.markAsNotified(e.id)},children:"Start Shopping"}),(0,t.jsx)("button",{className:"btn-ghost small",onClick:()=>{s(e.id),n.markAsNotified(e.id)},children:"Later"})]})]},e.id)})})},l={GiftReminderManager:r,GiftReminderDashboard:o,ReminderNotifications:c}}}]);
//# sourceMappingURL=384.9b2afd8d.chunk.js.map