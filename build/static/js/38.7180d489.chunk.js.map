{"version":3,"file":"static/js/38.7180d489.chunk.js","mappings":"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","sources":["components/CameraIntegration.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\n\n// Camera capabilities detector\nexport const useCameraCapabilities = () => {\n  const [capabilities, setCapabilities] = useState({\n    hasCamera: false,\n    hasMultipleCameras: false,\n    supportsFacingMode: false,\n    supportsFlash: false,\n    supportsZoom: false,\n    maxResolution: null,\n    error: null\n  });\n\n  useEffect(() => {\n    const detectCapabilities = async () => {\n      try {\n        // Check if mediaDevices is supported\n        if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n          throw new Error('Camera not supported in this browser');\n        }\n\n        // Get available devices\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const videoDevices = devices.filter(device => device.kind === 'videoinput');\n\n        setCapabilities({\n          hasCamera: videoDevices.length > 0,\n          hasMultipleCameras: videoDevices.length > 1,\n          supportsFacingMode: videoDevices.some(device =>\n            device.label.includes('back') || device.label.includes('rear')\n          ),\n          supportsFlash: 'torch' in navigator,\n          supportsZoom: true, // Most modern browsers support zoom\n          maxResolution: { width: 1920, height: 1080 }, // Common max resolution\n          devices: videoDevices,\n          error: null\n        });\n      } catch (error) {\n        console.error('Camera capability detection failed:', error);\n        setCapabilities(prev => ({\n          ...prev,\n          error: error.message\n        }));\n      }\n    };\n\n    detectCapabilities();\n  }, []);\n\n  return capabilities;\n};\n\n// AI-powered image analysis hook\nexport const useImageAnalysis = () => {\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [results, setResults] = useState(null);\n  const [error, setError] = useState(null);\n\n  const analyzeImage = useCallback(async (imageData, options = {}) => {\n    setIsAnalyzing(true);\n    setError(null);\n\n    try {\n      // Convert image to base64 if needed\n      let base64Image = imageData;\n      if (imageData instanceof HTMLCanvasElement) {\n        base64Image = imageData.toDataURL('image/jpeg', 0.8);\n      }\n\n      // Simulate AI analysis with pattern detection\n      const analysisResult = await simulateImageAnalysis(base64Image, options);\n\n      setResults(analysisResult);\n      return analysisResult;\n    } catch (err) {\n      console.error('Image analysis failed:', err);\n      setError(err.message);\n      return null;\n    } finally {\n      setIsAnalyzing(false);\n    }\n  }, []);\n\n  const clearResults = useCallback(() => {\n    setResults(null);\n    setError(null);\n  }, []);\n\n  return {\n    analyzeImage,\n    clearResults,\n    isAnalyzing,\n    results,\n    error\n  };\n};\n\n// Simulated AI image analysis\nconst simulateImageAnalysis = async (imageData, options) => {\n  // Simulate network delay\n  await new Promise(resolve => setTimeout(resolve, 1500 + Math.random() * 1000));\n\n  // Mock analysis results based on random factors\n  const confidence = 0.7 + Math.random() * 0.25;\n\n  const categories = [\n    'jewelry', 'clothing', 'electronics', 'books', 'art', 'home-decor',\n    'sports-equipment', 'beauty-products', 'toys', 'accessories'\n  ];\n\n  const colors = [\n    'red', 'blue', 'green', 'yellow', 'black', 'white', 'pink', 'purple', 'gold', 'silver'\n  ];\n\n  const brands = [\n    'Apple', 'Samsung', 'Nike', 'Adidas', 'Coach', 'Gucci', 'Sony', 'Generic'\n  ];\n\n  const randomCategory = categories[Math.floor(Math.random() * categories.length)];\n  const randomColor = colors[Math.floor(Math.random() * colors.length)];\n  const randomBrand = brands[Math.floor(Math.random() * brands.length)];\n\n  return {\n    confidence,\n    category: randomCategory,\n    subcategories: [randomCategory, 'gift-item'],\n    colors: [randomColor],\n    brand: randomBrand,\n    features: [\n      'high-quality',\n      'popular-item',\n      randomColor,\n      'gift-worthy'\n    ],\n    suggestedTags: [randomCategory, randomColor, randomBrand.toLowerCase()],\n    recommendations: generateMockRecommendations(randomCategory),\n    timestamp: Date.now()\n  };\n};\n\nconst generateMockRecommendations = (category) => {\n  const recommendations = {\n    jewelry: [\n      { name: 'Sterling Silver Necklace', price: 89.99, match: 95 },\n      { name: 'Diamond Earrings', price: 299.99, match: 88 },\n      { name: 'Gold Bracelet', price: 149.99, match: 82 }\n    ],\n    electronics: [\n      { name: 'Wireless Headphones', price: 199.99, match: 92 },\n      { name: 'Smart Watch', price: 299.99, match: 87 },\n      { name: 'Portable Speaker', price: 79.99, match: 85 }\n    ],\n    clothing: [\n      { name: 'Designer Scarf', price: 59.99, match: 90 },\n      { name: 'Leather Jacket', price: 199.99, match: 85 },\n      { name: 'Cashmere Sweater', price: 129.99, match: 88 }\n    ]\n  };\n\n  return recommendations[category] || [\n    { name: 'Similar Gift Item 1', price: 49.99, match: 85 },\n    { name: 'Similar Gift Item 2', price: 79.99, match: 80 },\n    { name: 'Similar Gift Item 3', price: 99.99, match: 75 }\n  ];\n};\n\n// Main Camera Scanner Component\nexport const CameraScanner = ({\n  onCapture,\n  onAnalysis,\n  onClose,\n  facingMode = 'environment', // 'user' for front, 'environment' for back\n  className = ''\n}) => {\n  const [stream, setStream] = useState(null);\n  const [isActive, setIsActive] = useState(false);\n  const [flashEnabled, setFlashEnabled] = useState(false);\n  const [zoom, setZoom] = useState(1);\n  const [error, setError] = useState(null);\n\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const capabilities = useCameraCapabilities();\n  const { analyzeImage, clearResults, isAnalyzing, results, error: analysisError } = useImageAnalysis();\n\n  // Initialize camera\n  const startCamera = useCallback(async () => {\n    try {\n      setError(null);\n\n      const constraints = {\n        video: {\n          facingMode: facingMode,\n          width: { ideal: 1920, max: 1920 },\n          height: { ideal: 1080, max: 1080 }\n        }\n      };\n\n      const mediaStream = await navigator.mediaDevices.getUserMedia(constraints);\n      setStream(mediaStream);\n\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n        await videoRef.current.play();\n        setIsActive(true);\n      }\n    } catch (err) {\n      console.error('Failed to start camera:', err);\n      setError(`Camera access failed: ${err.message}`);\n    }\n  }, [facingMode]);\n\n  // Stop camera\n  const stopCamera = useCallback(() => {\n    if (stream) {\n      stream.getTracks().forEach(track => track.stop());\n      setStream(null);\n      setIsActive(false);\n    }\n  }, [stream]);\n\n  // Capture photo\n  const capturePhoto = useCallback(async () => {\n    if (!videoRef.current || !canvasRef.current) return;\n\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    // Set canvas dimensions to match video\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n\n    // Draw current video frame to canvas\n    context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n    // Get image data\n    const imageDataUrl = canvas.toDataURL('image/jpeg', 0.8);\n\n    // Flash effect\n    const overlay = document.createElement('div');\n    overlay.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: white;\n      z-index: 9999;\n      opacity: 0.8;\n      pointer-events: none;\n    `;\n    document.body.appendChild(overlay);\n\n    setTimeout(() => {\n      document.body.removeChild(overlay);\n    }, 150);\n\n    // Camera shutter sound (if permissions allow)\n    try {\n      const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+Dto2QdCCuI0fPBdSUGJ3nI9NaOPAgTYbe');\n      audio.play().catch(() => {}); // Ignore if can't play\n    } catch (e) {}\n\n    // Trigger callbacks\n    if (onCapture) {\n      onCapture(imageDataUrl, canvas);\n    }\n\n    // Auto-analyze if callback provided\n    if (onAnalysis) {\n      const analysisResult = await analyzeImage(canvas);\n      if (analysisResult) {\n        onAnalysis(analysisResult, imageDataUrl);\n      }\n    }\n\n    // Haptic feedback\n    if (navigator.vibrate) {\n      navigator.vibrate(50);\n    }\n  }, [onCapture, onAnalysis, analyzeImage]);\n\n  // Toggle flash\n  const toggleFlash = useCallback(async () => {\n    if (!stream) return;\n\n    try {\n      const track = stream.getVideoTracks()[0];\n      const capabilities = track.getCapabilities();\n\n      if (capabilities.torch) {\n        await track.applyConstraints({\n          advanced: [{ torch: !flashEnabled }]\n        });\n        setFlashEnabled(!flashEnabled);\n      }\n    } catch (err) {\n      console.error('Flash toggle failed:', err);\n    }\n  }, [stream, flashEnabled]);\n\n  // Zoom control\n  const handleZoom = useCallback(async (newZoom) => {\n    if (!stream) return;\n\n    try {\n      const track = stream.getVideoTracks()[0];\n      const capabilities = track.getCapabilities();\n\n      if (capabilities.zoom) {\n        const zoomValue = Math.max(\n          capabilities.zoom.min,\n          Math.min(capabilities.zoom.max, newZoom)\n        );\n\n        await track.applyConstraints({\n          advanced: [{ zoom: zoomValue }]\n        });\n        setZoom(zoomValue);\n      }\n    } catch (err) {\n      console.error('Zoom adjustment failed:', err);\n    }\n  }, [stream]);\n\n  // Initialize camera on mount\n  useEffect(() => {\n    if (capabilities.hasCamera && !capabilities.error) {\n      startCamera();\n    }\n\n    return () => {\n      stopCamera();\n    };\n  }, [capabilities.hasCamera, capabilities.error, startCamera, stopCamera]);\n\n  if (capabilities.error) {\n    return (\n      <div className={`camera-scanner error ${className}`}>\n        <div className=\"error-message\">\n          <h3>Camera Unavailable</h3>\n          <p>{capabilities.error}</p>\n          <button onClick={onClose}>Close</button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`camera-scanner ${className}`}>\n      <div className=\"camera-container\">\n        <video\n          ref={videoRef}\n          autoPlay\n          playsInline\n          muted\n          className=\"camera-video\"\n        />\n\n        <canvas\n          ref={canvasRef}\n          style={{ display: 'none' }}\n        />\n\n        {/* Camera Controls */}\n        <div className=\"camera-controls\">\n          <div className=\"control-row top\">\n            {capabilities.supportsFlash && (\n              <button\n                className={`control-btn flash ${flashEnabled ? 'active' : ''}`}\n                onClick={toggleFlash}\n                disabled={!isActive}\n              >\n                âš¡\n              </button>\n            )}\n\n            <button\n              className=\"control-btn close\"\n              onClick={onClose}\n            >\n              âœ•\n            </button>\n          </div>\n\n          <div className=\"control-row center\">\n            <div className=\"scan-frame\">\n              <div className=\"scan-corners\">\n                <div className=\"corner top-left\"></div>\n                <div className=\"corner top-right\"></div>\n                <div className=\"corner bottom-left\"></div>\n                <div className=\"corner bottom-right\"></div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"control-row bottom\">\n            {capabilities.supportsZoom && (\n              <div className=\"zoom-control\">\n                <button\n                  className=\"zoom-btn\"\n                  onClick={() => handleZoom(Math.max(1, zoom - 0.5))}\n                  disabled={zoom <= 1}\n                >\n                  -\n                </button>\n                <span className=\"zoom-indicator\">{zoom.toFixed(1)}x</span>\n                <button\n                  className=\"zoom-btn\"\n                  onClick={() => handleZoom(Math.min(3, zoom + 0.5))}\n                  disabled={zoom >= 3}\n                >\n                  +\n                </button>\n              </div>\n            )}\n\n            <button\n              className=\"capture-btn\"\n              onClick={capturePhoto}\n              disabled={!isActive || isAnalyzing}\n            >\n              {isAnalyzing ? (\n                <div className=\"analyzing-spinner\"></div>\n              ) : (\n                <div className=\"capture-ring\">\n                  <div className=\"capture-inner\"></div>\n                </div>\n              )}\n            </button>\n\n            {capabilities.hasMultipleCameras && (\n              <button\n                className=\"control-btn flip-camera\"\n                onClick={() => {\n                  stopCamera();\n                  setTimeout(() => {\n                    facingMode = facingMode === 'user' ? 'environment' : 'user';\n                    startCamera();\n                  }, 100);\n                }}\n              >\n                ðŸ”„\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Instructions */}\n        <div className=\"camera-instructions\">\n          <p>Point camera at item to scan</p>\n          {isAnalyzing && <p className=\"analyzing-text\">Analyzing image...</p>}\n        </div>\n      </div>\n\n      {/* Analysis Results Modal */}\n      {results && (\n        <div className=\"analysis-results-modal\">\n          <div className=\"results-content\">\n            <div className=\"results-header\">\n              <h3>Item Identified!</h3>\n              <button\n                className=\"close-results\"\n                onClick={() => clearResults()}\n              >\n                âœ•\n              </button>\n            </div>\n\n            <div className=\"results-body\">\n              <div className=\"identification\">\n                <h4>Category: {results.category}</h4>\n                <p>Confidence: {Math.round(results.confidence * 100)}%</p>\n                {results.colors && (\n                  <p>Colors: {results.colors.join(', ')}</p>\n                )}\n                {results.brand && results.brand !== 'Generic' && (\n                  <p>Brand: {results.brand}</p>\n                )}\n              </div>\n\n              <div className=\"recommendations\">\n                <h4>Similar Gifts:</h4>\n                <div className=\"recommendation-list\">\n                  {results.recommendations.map((rec, index) => (\n                    <div key={index} className=\"recommendation-item\">\n                      <div className=\"rec-info\">\n                        <h5>{rec.name}</h5>\n                        <p className=\"rec-price\">${rec.price}</p>\n                      </div>\n                      <div className=\"match-score\">\n                        {rec.match}% match\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"results-actions\">\n                <button\n                  className=\"btn-primary\"\n                  onClick={() => {\n                    // Handle selecting recommendations\n                    onAnalysis && onAnalysis(results);\n                    clearResults();\n                  }}\n                >\n                  View All Matches\n                </button>\n                <button\n                  className=\"btn-secondary\"\n                  onClick={capturePhoto}\n                >\n                  Scan Again\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {analysisError && (\n        <div className=\"analysis-error\">\n          <p>Analysis failed: {analysisError}</p>\n          <button onClick={() => setError(null)}>Dismiss</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Quick Scan Button Component\nexport const QuickScanButton = ({ onScanStart, className = '' }) => {\n  const [isSupported, setIsSupported] = useState(false);\n  const capabilities = useCameraCapabilities();\n\n  useEffect(() => {\n    setIsSupported(capabilities.hasCamera && !capabilities.error);\n  }, [capabilities]);\n\n  if (!isSupported) return null;\n\n  return (\n    <button\n      className={`quick-scan-btn ${className}`}\n      onClick={onScanStart}\n      title=\"Scan item with camera\"\n    >\n      <div className=\"scan-icon\">\n        <div className=\"camera-body\">ðŸ“·</div>\n        <div className=\"scan-lines\">\n          <div className=\"scan-line\"></div>\n          <div className=\"scan-line\"></div>\n          <div className=\"scan-line\"></div>\n        </div>\n      </div>\n      <span>Scan Item</span>\n    </button>\n  );\n};\n\nconst CameraIntegrationExports = {\n  CameraScanner,\n  QuickScanButton,\n  useCameraCapabilities,\n  useImageAnalysis\n};\n\nexport default CameraIntegrationExports;"],"names":["useCameraCapabilities","capabilities","setCapabilities","useState","hasCamera","hasMultipleCameras","supportsFacingMode","supportsFlash","supportsZoom","maxResolution","error","useEffect","async","navigator","mediaDevices","getUserMedia","Error","videoDevices","enumerateDevices","filter","device","kind","length","some","label","includes","width","height","devices","console","prev","_objectSpread","message","detectCapabilities","useImageAnalysis","isAnalyzing","setIsAnalyzing","results","setResults","setError","analyzeImage","useCallback","imageData","options","arguments","undefined","base64Image","HTMLCanvasElement","toDataURL","analysisResult","simulateImageAnalysis","err","clearResults","Promise","resolve","setTimeout","Math","random","confidence","categories","colors","brands","randomCategory","floor","randomColor","randomBrand","category","subcategories","brand","features","suggestedTags","toLowerCase","recommendations","generateMockRecommendations","timestamp","Date","now","jewelry","name","price","match","electronics","clothing","CameraScanner","_ref","onCapture","onAnalysis","onClose","facingMode","className","stream","setStream","isActive","setIsActive","flashEnabled","setFlashEnabled","zoom","setZoom","videoRef","useRef","canvasRef","analysisError","startCamera","constraints","video","ideal","max","mediaStream","current","srcObject","play","concat","stopCamera","getTracks","forEach","track","stop","capturePhoto","canvas","context","getContext","videoWidth","videoHeight","drawImage","imageDataUrl","overlay","document","createElement","style","cssText","body","appendChild","removeChild","Audio","catch","e","vibrate","toggleFlash","getVideoTracks","getCapabilities","torch","applyConstraints","advanced","handleZoom","zoomValue","min","newZoom","_jsx","children","_jsxs","onClick","ref","autoPlay","playsInline","muted","display","disabled","toFixed","round","join","map","rec","index","QuickScanButton","_ref2","onScanStart","isSupported","setIsSupported","title"],"sourceRoot":""}